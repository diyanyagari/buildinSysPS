<div class="ui-fluid">
    <div class="ui-g">
        <div class="card card-w-title">
            <p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425"></p-confirmDialog>
            <h1>{{'frmPegawaiSkStrukturNomor_title'| translate | splitCharT }}</h1>
            <div class="ui-g form-group">
                <div class="ui-g-12">
                    <form [formGroup]="form" (ngSubmit)="onSubmit()">
                        <div class="ui-g-6">
                            <div class="ui-g-4">
                <label>{{'frmPegawaiSkStrukturNomor_namaSK'| translate | splitCharT }}</label>
              </div>
              <div class="ui-g-6">
                <p-autoComplete formControlName="namaSuratKeputusan" [suggestions]="dataSK" field="namaSK" [size]="30" [minLength]="1" [style]="{'width':'100%'}" [dropdown]="true" (completeMethod)="filterSk($event)" (onSelect)="pilihSK($event)" class="ui-inputwrapper-filled" [inputStyle]="{'padding': '0.36em 1.5em 0.36em 0'}"></p-autoComplete>
              </div>
              <div class="ui-g-2">
                <button type="button" pButton label="{{'frmPegawaiSkStrukturNomor_buatSK' | translate | splitCharT }}" [disabled]="btnResponse"></button>
              </div>
              <div class="clear"></div>
              <div class="ui-g-4">
                <label for="input">{{'frmPegawaiSkStrukturNomor_noSK'| translate | splitCharT }}</label>
              </div>
              <div class="ui-g-8">
                <input type="text" formControlName="noSK" pInputText disabled />
              </div>
              <div class="ui-g-4">
                <label>{{'frmPegawaiSkStrukturNomor_tanggalBerlakuSK'| translate | splitCharT}}</label>
              </div>
              <div class="ui-g-8">
                <div class="ui-g-5">
                  <app-calender formControlName="tglBerlakuAwal" [monthNavigator]="true" [yearNavigator]="true" yearRange="1850:2050" 
                  [showIcon]="true"></app-calender>
                </div>
                <div class="ui-g-2">
                  <label>{{'frmPegawaiSkStrukturNomor_s/d' | translate | splitCharT }}</label>
                </div>
                <div class="ui-g-5">
                  <app-calender formControlName="tglBerlakuAkhir" [monthNavigator]="true" [yearNavigator]="true" yearRange="1850:2050" 
                  [showIcon]="true"></app-calender>
                </div>
              </div>
              <div class="ui-g-4">
                <label for="input">{{'frmPegawaiSkStrukturNomor_kategoriPegawai'| translate | splitCharT }}</label>
              </div>
              <div class="ui-g-8">
                <p-dropdown id="dropdown" filter="filter" [options]="kodeKategoryPegawai" formControlName="kdKategoryPegawai" [autoWidth]="false" placeholder="--Pilih Kategori Pegawai--"></p-dropdown>
              </div>
              <div class="ui-g-12">
                                <label for="input">{{'frmPegawaiSkStrukturNomor_statusEnabled'| translate | splitCharT }}</label>
                            </div>
                            <div class="ui-g-12">
                                <p-checkbox binary="true" label="Aktif" formControlName="statusEnabled"></p-checkbox>
                                <span *ngIf="!form.get('statusEnabled').valid && form.get('statusEnabled').touched" style="color: red"> {{'frmPegawaiSkStrukturNomor_statusEnabled'| translate | splitCharT}} {{'frmPegawaiSkStrukturNomor_isRequired'| translate | splitCharT}}.</span>
                            </div>

                        </div>

                        <div class="ui-g-12">
                            <div class="ui-g-12 ui-md-8"></div>
                            <div class="ui-g-12 ui-md-1">
                                <button pButton type="submit" label="{{'frmPegawaiSkStrukturNomor_btnSimpan'| translate | splitCharT}}" icon="fa-save"></button>
                            </div>
                            <div class="ui-g-12 ui-md-1">
                                <button pButton type="button" label="{{'frmPegawaiSkStrukturNomor_btnHapus'| translate | splitCharT}}" icon="fa-trash" (click)="confirmDelete()"></button>
                            </div>
                            <div class="ui-g-12 ui-md-1">
                                <button pButton type="button" label="{{'frmPegawaiSkStrukturNomor_btnBatal'| translate | splitCharT}}" icon="fa-close" (click)="reset()"></button>
                            </div>
                            <div class="ui-g-12 ui-md-1">
                                <p-splitButton label="{{'frmPegawaiSkStrukturNomor_btnCetak'| translate | splitCharT }}" icon="fa-print" [model]="items"></p-splitButton>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="ui-g-12 ui-fluid">
                    <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none; ">
                        <i class="fa fa-search" style="margin:4px 4px 0 0" ></i>
                        <input type="text" pInputText size="50" [(ngModel)]="pencarian" (keypress)="cari()" style="width: 20%">
                    </div>
                    <p-dataTable [value]="listData" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" selectionMode="single" [(selection)]="selected" (onRowSelect)="onRowSelect($event)" [lazy]="true" [loading]="Loading" loadingIcon="fa-spinner"
                        [totalRecords]="totalRecords" (onLazyLoad)="loadPage($event)">
                        <p-header>{{'frmPegawaiSkStrukturNomor_tableTitle'| translate | splitCharT}}</p-header>
                        <p-column field="nomorSK" header="{{'frmPegawaiSkStrukturNomor_tableNomorSK'| translate | splitCharT }}"></p-column>
                        <p-column field="namaSK" header="{{'frmPegawaiSkStrukturNomor_tableNamaSK'| translate | splitCharT }}"></p-column>
                        <p-column field="tanggalBerlakuSK" header="{{'frmPegawaiSkStrukturNomor_tableTanggalBerlakuSK'| translate | splitCharT }}"></p-column>
                        <p-column field="kategoriPegawai" header="{{'frmPegawaiSkStrukturNomor_tableKategoriPegawai'| translate | splitCharT }}"></p-column>
                        <p-column field="statusEnabled" header="{{'frmPegawaiSkStrukturNomor_tableStatusEnabled'| translate | splitCharT }}">
                            <ng-template let-col="rowData" pTemplate type="body">
                                {{col.statusEnabled | truefalse | translate | splitCharT }}
                            </ng-template> 
                        </p-column>
                    </p-dataTable>
                </div>
            </div>
        </div>
    </div>
</div>