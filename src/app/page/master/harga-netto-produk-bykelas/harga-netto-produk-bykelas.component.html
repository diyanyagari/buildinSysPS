<div class="ui-fluid">
  <div class="ui-g">
    <div class="ui-g-12">
      <div class="card card-w-title">
        <p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425"></p-confirmDialog>
        <h1>{{'frmHargaNettoProdukByKelas_title'| translate | splitCharT }}</h1>
        <div class="ui-g form-group">
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="ui-g-4">
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_produk'| translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('kdProduk').valid && form.get('kdProduk').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <p-dropdown [options]="kodeProduk" filter="filter" formControlName="kdProduk" [autoWidth]="false"></p-dropdown>

              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_kelas'| translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('kdKelas').valid && form.get('kdKelas').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <p-dropdown [options]="kodeKelas" filter="filter" formControlName="kdKelas" [autoWidth]="false"></p-dropdown>

              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_asalProduk'| translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('kdAsalProduk').valid && form.get('kdAsalProduk').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <p-dropdown [options]="kodeAsalProduk" filter="filter" formControlName="kdAsalProduk" [autoWidth]="false"></p-dropdown>

              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_jenisTarif'| translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('kdJenisTarif').valid && form.get('kdJenisTarif').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <p-dropdown [options]="kodeTarif" filter="filter" formControlName="kdJenisTarif" [autoWidth]="false"></p-dropdown>

              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_tanggalBerlaku' | translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('tglBerlakuAwal').valid && form.get('tglBerlakuAwal').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <app-calender formControlName="tglBerlakuAwal" dateFormat="dd M yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1850:2050"
                  [showIcon]="true"></app-calender>

              </div>
              <div class="ui-g-12 ui-md-10" hidden>
                <label for="input" hidden>{{'frmHargaNettoProdukByKelas_persenDiscount' | translate | splitCharT }}</label>
                <input id="input" hidden type="text" formControlName="persenDiscount" pInputText/>

              </div>

            </div>

            <div class="ui-g-4">
              <div class="ui-g-12 ui-md-10" hidden>
                <label for="input" hidden>{{'frmHargaNettoProdukByKelas_hargaNetto1' | translate | splitCharT }}</label>
                <input id="input" hidden type="text" formControlName="hargaNetto1" pInputText/>
              </div>
              <div class="ui-g-12 ui-md-10" hidden>
                <label for="input" hidden>{{'frmHargaNettoProdukByKelas_hargaNetto2' | translate | splitCharT }}</label>
                <input id="input" hidden type="text" formControlName="hargaNetto2" pInputText/>
              </div>
              <div class="ui-g-12 ui-md-10" hidden>
                <label for="input" hidden>{{'frmHargaNettoProdukByKelas_hargaDiscount' | translate | splitCharT }}</label>
                <input id="input" hidden type="text" formControlName="hargaDiscount" pInputText/>
              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_tanggalBerlakuAkhir' | translate | splitCharT }}</label>
                <app-calender formControlName="tglBerlakuAkhir" dateFormat="dd M yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1850:2050"
                  [showIcon]="true"></app-calender>
              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_tanggalKadaluarsa' | translate | splitCharT }}</label>
                <app-calender formControlName="tglKadaluarsaLast" dateFormat="dd M yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1850:2050"
                  [showIcon]="true"></app-calender>
              </div>
              <div class="ui-g-12 ui-md-10" hidden>
                <label for="input">{{'frmHargaNettoProdukByKelas_qtyCurrentStok' | translate | splitCharT }}</label>
                <input id="input" type="text" formControlName="qtyCurrentStok" pInputText/>
              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_mataUang'| translate | splitCharT }}</label>
                    <span style="color: red;font-weight: bolder;">*</span>
                <p-dropdown [options]="kodeMataUang" filter="filter" formControlName="kdMataUang" [autoWidth]="false"></p-dropdown>
              </div>
              <div class="ui-g-12 ui-md-10">
                <label for="input">{{'frmHargaNettoProdukByKelas_hargaSatuan' | translate | splitCharT }}
                  <span style="color: red;font-weight: bolder;">*</span>
                  <span *ngIf="!form.get('hargaSatuan').valid && form.get('hargaSatuan').touched" style="color: red"> {{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
                </label>
                <!-- <input id="input" type="text" formControlName="hargaSatuan" pInputText/> -->
                <p-spinner id="input" [min]="0" type="text" formControlName="hargaSatuan"></p-spinner>

              </div>
              <div class="ui-g-12 ui-md-10">
                <p-checkbox binary="true" label="{{'frmHargaNettoProdukByKelas_status'| translate | splitCharT }}" formControlName="statusEnabled"></p-checkbox>
                <span *ngIf="!form.get('statusEnabled').valid && form.get('statusEnabled').touched" style="color: red">*</span>
                <span *ngIf="!form.get('statusEnabled').valid && form.get('statusEnabled').touched" style="color: red">{{'frmHargaNettoProdukByKelas_required'| translate | splitCharT}}</span>
              </div>

            </div>


            <div class="ui-g-4">
              <p-fieldset legend="{{'frmHargaNettoProdukByKelas_optional' | translate | splitCharT }}" [toggleable]="true" [collapsed]="true">
                <form [formGroup]="form" (ngSubmit)="onSubmit()">
                  <div class="ui-g-12 ui-md-10">
                    <label for="input">{{'frmHargaNettoProdukByKelas_factorRate' | translate | splitCharT }} </label>
                    <input id="input" type="text" formControlName="factorRate" pInputText/>

                  </div>
                  <!-- <div class="ui-g-12 ui-md-10">
                  <label for="input">{{'operatorFactorRate' | translate | splitCharT }}</label>
                  <p-dropdown formControlName="operatorFactorRate" placeholder="{{'operatorFactorRate'| translate | splitCharT }}" class="ui-inputwrapper-filled"
                    [options]="listOperatorFactorRate" [autoWidth]="false"></p-dropdown>
                  <span *ngIf="!form.get('operatorFactorRate').valid && form.get('operatorFactorRate').touched" style="color: red">{{'operatorFactorRate'| translate | splitCharT}} {{'isRequired'| translate | splitCharT}}.</span>
                </div> -->
                </form>
              </p-fieldset>
            </div>

            <div class="ui-g-12">
              <div class="ui-g-12 ui-md-7"></div>
              <div class="ui-g-12 ui-md-1">
                <button pButton type="button" label="{{'frmHargaNettoProdukByKelas_btnBatal'| translate | splitCharT}}" icon="fa-refresh" (click)="reset()"></button>
              </div>
              <div class="ui-g-12 ui-md-1">
                <button pButton type="submit" label="{{'frmHargaNettoProdukByKelas_btnSimpan'| translate | splitCharT}}" icon="fa-save"></button>
              </div>
              <div class="ui-g-12 ui-md-1">
                <button pButton type="button" label="{{'frmHargaNettoProdukByKelas_btnHapus'| translate | splitCharT}}" icon="fa-trash" (click)="confirmDelete()"></button>
              </div>
              <div class="ui-g-12 ui-md-1">
                <button pButton type="button" label="{{'frmHargaNettoProdukByKelas_btnCetak'| translate | splitCharT}}" icon="fa-print" (click)="cetak()"></button>
              </div>
              <div class="ui-g-12 ui-md-1">
                <p-splitButton label="{{'frmHargaNettoProdukByKelas_btnExport'| translate | splitCharT }}" icon="fa-external-link" [model]="items"></p-splitButton>

              </div>
            </div>
          </form>

          <div class="ui-g-12 ui-fluid">
            <p-dataTable [value]="listData" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" selectionMode="single"
              [(selection)]="selected" (onRowSelect)="onRowSelect($event)" [lazy]="true" [loading]="loading" loadingIcon="fa-spinner"
              [totalRecords]="totalRecords" (onLazyLoad)="loadPage($event)">
              <p-header>
                <div class="ui-helper-clearfix">
                  <i class="fa fa-search" style="padding:0.5em 0.5em;float:right"></i>
                  <input type="text" pInputText size="50" placeholder="{{'frmHargaNettoProdukByKelas_tablePencarian'| translate | splitCharT}}" [(ngModel)]="pencarian"
                    (keyup)="cari()" style="width: 20%;float:right;">
                  <span style="float: left;padding:0.3em;">{{'frmHargaNettoProdukByKelas_tableTitle'| translate | splitCharT}}</span>
                </div>
              </p-header>
              <p-column field="namaProduk" header="{{'frmHargaNettoProdukByKelas_tableProduk'| translate | splitCharT }}"></p-column>
              <p-column field="namaKelas" header="{{'frmHargaNettoProdukByKelas_tableKelas'| translate | splitCharT }}"></p-column>
              <p-column field="namaAsalProduk" header="{{'frmHargaNettoProdukByKelas_tableAsalProduk'| translate | splitCharT }}"></p-column>
              <p-column field="namaJenisTarif" header="{{'frmHargaNettoProdukByKelas_tableJenisTarif'| translate | splitCharT }}"></p-column>
              <p-column field="tglBerlakuAwal" header="{{'frmHargaNettoProdukByKelas_tableTanggalBerlaku'| translate | splitCharT }}">
                <ng-template let-pick="rowData" pTemplate type="body">
                  <span *ngIf="pick.tglBerlakuAwal > null">{{pick.tglBerlakuAwal * 1000 | date: 'dd MMM yyyy'}}</span>
                  <!-- <span *ngIf="pick.tglBerlakuAwal == null"></span> -->
                  <!-- <span *ngIf="pick.tglBerlakuAwal == 0">-</span> -->
                </ng-template>
              </p-column>
              <p-column field="tglBerlakuAkhir" header="{{'frmHargaNettoProdukByKelas_tableTanggalBerlakuAkhir'| translate | splitCharT }}">
                <ng-template let-pick="rowData" pTemplate type="body">
                  <span *ngIf="pick.tglBerlakuAkhir > null">{{pick.tglBerlakuAkhir * 1000 | date: 'dd MMM yyyy'}}</span>
                  <span *ngIf="pick.tglBerlakuAkhir == null">-</span>
                  <!-- <span *ngIf="pick.tglBerlakuAkhir == 0">-</span> -->
                </ng-template>
              </p-column>
              <p-column field="tglKadaluarsaLast" header="{{'frmHargaNettoProdukByKelas_tableTanggalKadaluarsa'| translate | splitCharT }}">
                <ng-template let-pick="rowData" pTemplate type="body">
                  <span *ngIf="pick.tglKadaluarsaLast > null">{{pick.tglKadaluarsaLast * 1000 | date: 'dd MMM yyyy'}}</span>
                  <span *ngIf="pick.tglKadaluarsaLast == null">-</span>
                  <!-- <span *ngIf="pick.tglKadaluarsaLast == 0">-</span> -->
                </ng-template>
              </p-column>
              <p-column field="namaMataUang" header="{{'frmHargaNettoProdukByKelas_tableMataUang'| translate | splitCharT }}"></p-column>
              <p-column field="hargaSatuan" header="{{'frmHargaNettoProdukByKelas_tableHargaSatuan'| translate | splitCharT }}"></p-column>
              <p-column field="factorRate" header="{{'frmHargaNettoProdukByKelas_factorRate'| translate | splitCharT }}"></p-column>
              <p-column field="statusEnabled" header="{{'frmHargaNettoProdukByKelas_tableStatus'| translate | splitCharT }}">
                <ng-template let-col="rowData" pTemplate type="body">
                  {{col.statusEnabled | truefalse | translate | splitCharT }}
              </ng-template> 
              </p-column>
            </p-dataTable>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>