<div class="ui-fluid">
	<div class="ui-g">
		<div class="ui-g-12">
			<div class="card card-w-title">
				<p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425"></p-confirmDialog>
				
				<h1> {{'frmMasterPegawaiSKStatusPensiunNew_title'| translate | splitCharT}} </h1>
				<div class="ui-g form-group">
					<form [formGroup]="formPensiun" (ngSubmit)="onSubmitPensiun()">
						<div class="ui-g-12">
							<p-fieldset legend="">
								<div class="ui-g form-group">
									<div class="ui-g-12 ui-md-4" style="margin-top: 8px;">
										<div class="ui-g-12 ui-md-8">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_pegawaiSKStatusNamaPensiun'| translate | splitCharT }}
												<span style="color: red;font-weight: bolder;">*</span>
												<span *ngIf="!formPensiun.get('namaSk').valid && formPensiun.get('namaSk').touched" style="color: red"> {{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT}}</span>
											</label>
											<p-dropdown formControlName="namaSk" (onChange)="ambilSKPensiun($event)" class="ui-inputwrapper-filled" [options]="namaSK" [autoWidth]="false"
											[filter]="true" filterBy="label"></p-dropdown>
										</div>
										<div class="ui-g-12 ui-md-3">
											<br/>
											<button pButton type="button" (click)="getKelompokTransaksiPensiun()" label="{{'frmMasterPegawaiSKStatusPensiunNew_buatSk'| translate | splitCharT }}"></button>
										</div>

										<div class="ui-g-12 ui-md-11" hidden>
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_nomor'| translate | splitCharT }}</label>
											<input id="input" type="text" formControlName="noSk" class="ui-inputwrapper-filled" disabled pInputText/>
										</div>
										<div class="ui-g-12 ui-md-11">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_noSKIntern'| translate | splitCharT }}</label>
											<input id="input" type="text" formControlName="noSKIntern" class="ui-inputwrapper-filled" disabled pInputText/>
										</div>

									</div>

										<!-- <div class="ui-g-12 ui-md-3" style="margin-top: 9px;">
											<div class="ui-g form-group">
												<div class="ui-g-12 ui-md-7" hidden>
													<label>{{'frmMasterPegawaiSKStatusPensiunNew_nomor'| translate | splitCharT }}</label>
													<input id="input" type="text" formControlName="noSk" class="ui-inputwrapper-filled" disabled pInputText/>
												</div>
												<div class="ui-g-12 ui-md-7">
													<label>{{'frmMasterPegawaiSKStatusPensiunNew_noSKIntern'| translate | splitCharT }}</label>
													<input id="input" type="text" formControlName="noSKIntern" class="ui-inputwrapper-filled" disabled pInputText/>
												</div>
											</div>
										</div> -->

										<div class="ui-g-12 ui-md-6" style="margin-top: 9px;">
											<!-- <div class="ui-g-12 ui-md-4" style="margin-top: 6px; margin-left: -90px;"> -->
												<div class="ui-g form-group">
													<div class="ui-g-12 ui-md-10">
														<label>{{'frmMasterPegawaiSKStatusPensiunNew_periodeBerlakuSk'| translate | splitCharT}}
														</label>
													</div>
													<div class="ui-g-12 ui-md-4">
														<app-calender formControlName="tanggalAwal" class="ui-inputwrapper-filled" disabled="true" [showIcon]="true" dateFormat="dd M yy"></app-calender>
													</div>
													<div class="ui-g-12 ui-md-1" style="text-align:  center;">
														<label>-</label>
													</div>
													<div class="ui-g-12 ui-md-4">
														<app-calender formControlName="tanggalAkhir" class="ui-inputwrapper-filled" disabled="true" [showIcon]="true" dateFormat="dd M yy"></app-calender>
													</div>
												</div>
											</div>

										</div>
									</p-fieldset>
								</div>

								<div class="ui-g-12">
									<p-fieldset legend="">
										<div class="ui-g form-group">
											<div class="ui-g-12 ui-md-3">
												<div class="ui-g-12 ui-md-12">
													<label>
														{{'frmMasterPegawaiSKStatusPensiunNew_kategoriPegawai'| translate | splitCharT }}
														<span style="color: red;font-weight: bolder;">*</span>
														<span *ngIf="!formPensiun.get('kdKategoryPegawai').valid && formPensiun.get('kdKategoryPegawai').touched" style="color: red;font-weight: bolder;">
																{{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
													</label>
													<p-multiSelect [options]="listKategoryPegawai" formControlName="kdKategoryPegawai" [(ngModel)]="selectedKategoriPensiun" multiple="multiple"
													checkbox="checkbox" filter="filter" optionLabel="label">
												</p-multiSelect>
											</div>
										</div>
										<div class="ui-g-12 ui-md-3">
											<div class="ui-g-12 ui-md-12">
												<label>
													{{'frmMasterPegawaiSKStatusPensiunNew_masaKerja'| translate | splitCharT }}
													<span style="color: red;font-weight: bolder;">*</span>
													<span *ngIf="!formPensiun.get('masaKerja').valid && formPensiun.get('masaKerja').touched" style="color: red;font-weight: bolder;"> {{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
												</label>
												<p-multiSelect [options]="listMasaKerjaPensiun" formControlName="masaKerja" [(ngModel)]="selectedMasaKerjaPensiun" multiple="multiple"
												checkbox="checkbox" filter="filter" optionLabel="label">
											</p-multiSelect>
										</div>
									</div>
									<div class="ui-g-12 ui-md-3">
										<div class="ui-g-12 ui-md-12">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_statusKehadiran'| translate | splitCharT}}
												<span style="color: red;font-weight: bolder;">*</span>
												<span *ngIf="!formPensiun.get('kdStatusPegawai').valid && formPensiun.get('kdStatusPegawai').touched" style="color: red;font-weight: bolder;">
														{{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
											</label>
											<p-dropdown formControlName="kdStatusPegawai" [options]="listStatusPegawaiPensiun" [autoWidth]="false" [filter]="true" filterBy="label"></p-dropdown>
										</div>
									</div>
								</div>
							</p-fieldset>
						</div>
						<div class="ui-g-12">
							<p-fieldset legend="">
								<div class="ui-g form-group">
									<div class="ui-g-12 ui-md-3">
										<div class="ui-g-12 ui-md-12" hidden="true">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_durasi'| translate | splitCharT}}
												<span style="color: red;font-weight: bolder;">*</span>
												<span *ngIf="!formPensiun.get('durasi').valid && formPensiun.get('durasi').touched" style="color: red;font-weight: bolder;"> {{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
											</label>
											<p-dropdown formControlName="durasi" [options]="listDurasi" [autoWidth]="false" [filter]="true" filterBy="label"></p-dropdown>
										</div>		
										<div class="ui-g-12 ui-md-12">
											<label>{{'frmPegawaiSkStatusPensiun_totalQtyHariKuota'| translate | splitCharT}}</label>
											<input id="input" type="number" formControlName="totalQtyHariKuota" pInputText/>
										</div>						
									</div>
									<div class="ui-g-12 ui-md-3">
										<div class="ui-g-12 ui-md-12" hidden="true">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_qtyHariOverAllow'| translate | splitCharT}}
												<span style="color: red;font-weight: bolder;">*</span>
												<span *ngIf="!formPensiun.get('qtyHariOverAllow').valid && formPensiun.get('qtyHariOverAllow').touched" style="color: red;font-weight: bolder;">
														{{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
											</label>
											<input id="input" type="number" formControlName="qtyHariOverAllow" pInputText/>
										</div>
										<!-- <div class="ui-g-12 ui-md-12">
											<label>{{'frmPegawaiSkStatusPensiun_totalQtyHariKuota'| translate | splitCharT}}</label>
											<input id="input" type="number" formControlName="totalQtyHariKuota" pInputText/>
										</div> -->
										<div class="ui-g-12 ui-md-12">
											<label>{{'frmPegawaiSkStatusPensiun_qtyHariMinTake'| translate | splitCharT}}</label>
											<input id="input" type="number" formControlName="qtyHariMinTake" pInputText/>
										</div>
										<div class="ui-g-12 ui-md-12">
											<label>{{'frmPegawaiSkStatusPensiun_qtyHatiMaxTake'| translate | splitCharT}}</label>
											<input id="input" type="number" formControlName="qtyHariMaxTake" pInputText/>
										</div>
										<div class="ui-g-12 ui-md-12" hidden="true">
											<label>{{'frmMasterPegawaiSKStatusPensiunNew_tanggalBulanResetTotalKuota'| translate | splitCharT}}
											<!-- <span style="color: red;font-weight: bolder;">*</span>
											<span *ngIf="!formPensiun.get('tglBlnResetTotalKuota').valid && formPensiun.get('tglBlnResetTotalKuota').touched" style="color: red;font-weight: bolder;">
											required</span> -->
										</label>
										<app-calender dateFormat="dd M yy" formControlName="tglBlnResetTotalKuota" [monthNavigator]="true"  [yearNavigator]="true" yearRange="1945:2042" [showIcon]="true" ></app-calender>
									</div>
								</div>
								<div class="ui-g-12 ui-md-3">

									<div class="ui-g-12 ui-md-12">
										<label>{{'frmMasterPegawaiSKStatusPensiunNew_minHariSebelumPosting'| translate | splitCharT}}
											<span style="color: red;font-weight: bolder;">*</span>
											<span *ngIf="!formPensiun.get('qtyHariMinPostingBefore').valid && formPensiun.get('qtyHariMinPostingBefore').touched" style="color: red;font-weight: bolder;">
													{{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
										</label>
										<input id="input" type="number" formControlName="qtyHariMinPostingBefore" pInputText/>
									</div>
									<div class="ui-g-12 ui-md-12">
										<label>{{'frmMasterPegawaiSKStatusPensiunNew_qtyJamMaxPostingBefore'| translate | splitCharT}}
											<span style="color: red;font-weight: bolder;">*</span>
											<span *ngIf="!formPensiun.get('qtyJamMaxPostingBefore').valid && formPensiun.get('qtyJamMaxPostingBefore').touched" style="color: red;font-weight: bolder;">
													{{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT }}</span>
										</label>
										<input id="input" type="number" formControlName="qtyJamMaxPostingBefore" pInputText/>
									</div>
								</div>
								<div class="ui-g-12 ui-md-3">
									<div class="ui-g-12">
										<p-checkbox binary="true" label="{{'frmMasterPegawaiSKStatusPensiunNew_statusEnabled'| translate | splitCharT }}" formControlName="statusEnabled"></p-checkbox>
										<span *ngIf="!formPensiun.get('statusEnabled').valid && formPensiun.get('statusEnabled').touched" style="color: red">* {{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT}}</span>
									</div>
									<!-- <div class="ui-g-12">
										<p-checkbox binary="true" label="{{'frmMasterPegawaiSKStatusPensiunNew_isResetKuota'| translate | splitCharT }}" formControlName="isResetKuota"></p-checkbox>
										<!-- <span *ngIf="!formPensiun.get('isResetKuota').valid && formPensiun.get('isResetKuota').touched" style="color: red">* {{'frmMasterPegawaiSKStatusPensiunNew_required'| translate | splitCharT}}.</span> -->
										<!-- </div> -->
									</div>
								</div>
							</p-fieldset>
						</div>
						<div class="ui-g-12">
							<div class="ui-g-12 ui-md-7"></div>
							<div class="ui-g-12 ui-md-1">
								<button pButton type="button" label="{{'frmMasterPegawaiSKStatusPensiunNew_btnBatal'| translate | splitCharT }}" icon="fa-refresh" (click)="resetPensiun()"></button>
							</div>
							<div class="ui-g-12 ui-md-1">
								<button pButton type="submit" label="{{'frmMasterPegawaiSKStatusPensiunNew_btnSimpan'| translate | splitCharT }}" icon="fa-save"></button>
							</div>
							<div class="ui-g-12 ui-md-1">
								<button pButton type="button" label="{{'frmMasterPegawaiSKStatusPensiunNew_btnHapus'| translate | splitCharT }}" icon="fa-trash" (click)="confirmDeletePensiun()"></button>
							</div>
							<div class="ui-g-12 ui-md-1">
								<button pButton type="button" label="{{'frmMasterPegawaiSKStatusPensiunNew_btnCetak'| translate | splitCharT }}" icon="fa-print" (click)="cetakPensiun()"></button>
							</div>
							<div class="ui-g-12 ui-md-1">
								<p-splitButton label="{{'frmMasterPegawaiSKStatusPensiunNew_btnExport'| translate | splitCharT }}" icon="fa-external-link" [model]="itemsPensiun"></p-splitButton>
							</div>
						</div>
					</form>
					<div class="ui-g-12 ui-fluid">
						<p-dataTable [value]="listDataPensiun" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" selectionMode="single"
						[(selection)]="selectedPensiun" (onRowSelect)="onRowSelectPensiun($event)" [loading]="loading" loadingIcon="fa-spinner" [totalRecords]="totalRecordsPensiun"
						(onLazyLoad)="loadPagePensiun($event)" [lazy]="true" scrollable="true">
						<!-- <p-header>{{'frmMasterPegawaiSKStatusPensiunNew_listPegawaiSkStatus'| translate | splitCharT }}</p-header> -->
						<p-header>
							<div class="ui-helper-clearfix">
								<i class="fa fa-search" style="padding:0.5em 0.5em;float:right"></i>
								<input type="text" pInputText size="50" placeholder="{{'frmMasterPegawaiSKStatusPensiunNew_pencarian'| translate | splitCharT}}" [(ngModel)]="pencarian"
								(keyup)="cariPensiun()" style="width: 20%;float:right;">
								<span style="float: left;padding:0.3em;">{{'frmMasterPegawaiSKStatusPensiunNew_pegawaiSKStatusPensiun'| translate | splitCharT }}</span>
							</div>
						</p-header>
						<!-- <p-column field="noSK" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableNomor'| translate | splitCharT }}" [style]="{'width':'100px'}"></p-column> -->
						<p-column field="noSKIntern" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableNomorSKIntern'| translate | splitCharT }}" [style]="{'width':'100px'}"></p-column>
						<p-column field="namaSK" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableNama'| translate | splitCharT }}" [style]="{'width':'250px'}"></p-column>
						<p-column field="tglBerlakuAwal" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableTanggalBerlakuAwal'| translate | splitCharT }}" [style]="{'width':'150px'}">
							<ng-template pTemplate="body" let-StatusSK="rowData">
								<span *ngIf="StatusSK.tglBerlakuAwal != null">{{StatusSK.tglBerlakuAwal * 1000 | date:'dd MMM yyyy'}}</span>
								<span *ngIf="StatusSK.tglBerlakuAwal == null">-</span>
							</ng-template>
						</p-column>
						<p-column field="tglBerlakuAkhir" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableTanggalBerlakuAkhir'| translate | splitCharT }}" [style]="{'width':'150px'}">
							<ng-template pTemplate="body" let-StatusSK="rowData">
								<span *ngIf="StatusSK.tglBerlakuAkhir != null">{{StatusSK.tglBerlakuAkhir * 1000 | date:'dd MMM yyyy'}}</span>
								<span *ngIf="StatusSK.tglBerlakuAkhir == null">-</span>
							</ng-template>
						</p-column>
						<p-column field="namaKategoryPegawai" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableKategoriPegawai'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
						<p-column field="namaRange" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableMasaKerja'| translate | splitCharT }}" [style]="{'width':'250px'}"></p-column>
						<p-column field="namaStatusPegawai" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableStatusPegawai'| translate | splitCharT }}" [style]="{'width':'250px'}"></p-column>
						<p-column field="isAllowAccumulated" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableBisaDiakumulasikan'| translate | splitCharT }}" [style]="{'width':'150px'}">
							<ng-template pTemplate="body" let-StatusSK="rowData">
								<span *ngIf="StatusSK.isAllowAccumulated == 1">Ya</span>
								<span *ngIf="StatusSK.isAllowAccumulated == 0">Tidak</span>
							</ng-template>
						</p-column>
						<p-column field="isAllowToMinusKuota" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableKuotaBolehMinus'| translate | splitCharT }}" [style]="{'width':'150px'}">
							<ng-template pTemplate="body" let-StatusSK="rowData">
								<span *ngIf="StatusSK.isAllowToMinusKuota == 1">Ya</span>
								<span *ngIf="StatusSK.isAllowToMinusKuota == 0">Tidak</span>
							</ng-template>
						</p-column>
						<!-- <p-column field="qtyHariOverAllow" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableQtyHariOverAllow'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column> -->
						<p-column field="namaDurasi" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableDurasi'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
						<p-column field="isProRate" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableProRata'| translate | splitCharT }}" [style]="{'width':'100px'}"></p-column>
						<p-column field="totalQtyHariKuota" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableTotalQtyHariKuota'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
						<p-column field="qtyHariMinTake" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableQtyHariMinTake'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
						<p-column field="qtyHariMaxTake" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableQtyHatiMaxTake'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
					<!-- <p-column field="tglBlnResetTotalKuota" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableTanggalBulanResetTotalKuota'| translate | splitCharT }}" [style]="{'width':'250px'}">
						<ng-template pTemplate="body" let-StatusSK="rowData">
							{{StatusSK.tglBlnResetTotalKuota * 1000 | date:'dd/MM'}}
						</ng-template>
					</p-column> -->
					<p-column field="qtyHariMinPostingBefore" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableMinHariSebelumPosting'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
					<p-column field="qtyJamMaxPostingBefore" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableQtyJamMaxPostingBefore'| translate | splitCharT }}" [style]="{'width':'150px'}"></p-column>
					<p-column field="statusEnabled" header="{{'frmMasterPegawaiSKStatusPensiunNew_tableStatusEnabled'| translate | splitCharT }}" [style]="{'width':'100px'}">
						<ng-template let-col="rowData" pTemplate type="body">
							{{col.statusEnabled | truefalse | translate | splitCharT }}
						</ng-template> 
					</p-column>
				</p-dataTable>
			</div>
		</div>

</div>
</div>
</div>
</div>