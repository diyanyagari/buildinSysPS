<div class="ui-fluid">
	<div class="ui-g">
		<div class="ui-g-12">
			<div class="card card-w-title">
				<p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425"></p-confirmDialog>
				<form [formGroup]="form">
					<div style="float: right" class="ui-g-12 ui-md-1">
						<button pButton type="button" label="{{'frmMonitoringubs_Reset'| translate | splitCharT}}"
							icon="fa-refresh" (click)="reset()"></button>
					</div>
					<div style="float: right" class="ui-g-12 ui-md-1">
						<button pButton type="button" label="{{'frmMonitoringubs_Cari'| translate | splitCharT}}"
							icon="fa-search" (click)="getDataGrid(1, 10, '')"></button>
					</div>
					<div style="width:15%;float:right;margin: 3px;margin-right: 4px;margin-top: 7px;font-size: 12px">
						<app-calender [monthNavigator]="true" showTime="showTime" hourFormat="24" [yearNavigator]="true" yearRange="2000:2030"
							formControlName="tglAkhir" [showIcon]="true" dateFormat="dd M yy">
						</app-calender>
					</div>
					<div style="width:15%;float:right;margin: 3px;margin-right: 4px;margin-top: 7px;font-size: 12px">
						<app-calender [monthNavigator]="true" showTime="showTime" hourFormat="24" [yearNavigator]="true" yearRange="2000:2030"
							formControlName="tglAwal" [showIcon]="true" dateFormat="dd M yy">
						</app-calender>
					</div>
					<div style="width:30%;float:right;margin: 3px;margin-right: 4px;margin-top: 7px;font-size: 12px">
						<i class="fa fa-search" style="padding:0.5em 0.5em;float:right"></i>
						<input type="text" pInputText size="50"
							placeholder="{{'frmMonitoringubs_pencarian'| translate | splitCharT}}"
							[(ngModel)]="pencarian" [ngModelOptions]="{standalone: true}"
							(keyup)="getDataGrid(1, 10, '')" style="width: 60%;float:right;">
					</div>
					<div style="width:20%;float:left;margin: 3px;margin-right: 4px;margin-top: 7px;font-size: 12px">
						<strong><span
								style="float: left;padding:0.3em;">{{'frmMonitoringubs_tableTitle'| translate | splitCharT}}</span></strong>
					</div>
				</form>
				<div class="ui-g-12 ui-fluid">
					<p-dataTable [value]="listData" [rows]="10" [paginator]="true" [pageLinks]="3"
						[rowsPerPageOptions]="[5,10,20]" selectionMode="single" [(selection)]="selected"
						(onRowSelect)="onRowSelect($event)" [lazy]="true" [loading]="loading" loadingIcon="fa-spinner"
						[totalRecords]="totalRecords" (onLazyLoad)="loadPage($event)" scrollable="true"
						expandableRows="true">
						<p-header>
						</p-header>
						<p-column [style]="{'width':'30px'}"
							header="{{'frmMonitoringubs_No'| translate | splitCharT }}">
							<ng-template pTemplate="body" let-i="rowIndex">
								{{i+1}}
							</ng-template>
						</p-column>
						<p-column [style]="{'width':'150px'}" field="tglSubscribe"
							header="{{'frmMonitoringubs_tglSubs'| translate | splitCharT }}">
							<ng-template let-pick="rowData" pTemplate type="body">
								<!-- <span>{{pick.tglSubscribe | date:'dd MMM yyyy'}}</span> -->
								<span>{{pick.tglSubscribe | date:'dd MMM yyyy HH:mm'}}</span>
							</ng-template>
						</p-column>
						<p-column field="email" header="{{'frmMonitoringubs_daftarEmail'| translate | splitCharT }}">
						</p-column>
					</p-dataTable>
				</div>
				<div style="float: right" class="ui-g-12 ui-md-1">
					<p-splitButton label="{{'frmMonitoringubs_Export'| translate | splitCharT}}" icon="fa-external-link"
						[model]="items"></p-splitButton>
				</div>
				<div style="float: right" class="ui-g-12 ui-md-1">
					<button pButton type="button" label="{{'frmMonitoringubs_Cetak'| translate | splitCharT}}"
						icon="fa-print" (click)="cetak()"></button>
				</div>
			</div>
			<div id="print-section" style="display: none;">
				<div class="ui-g-12">
					<h2>{{'frmMonitoringubs_tableTitle'| translate | splitCharT}}</h2>
				</div>
				<div class="ui-g-12">
					<p-dataTable [value]="listData">
						<p-column [style]="{'width':'30px'}"
							header="{{'frmMonitoringubs_No'| translate | splitCharT }}">
							<ng-template pTemplate="body" let-i="rowIndex">
								{{i+1}}
							</ng-template>
						</p-column>
						<p-column field="tglSubscribe" header="{{'frmMonitoringubs_tglSubs'| translate | splitCharT }}">
							<ng-template let-row="rowData" pTemplate="body">
								{{row.tglSubscribe | date:'dd/MM/yyyy HH:mm'}}
							</ng-template>
						</p-column>
						<p-column field="email" header="{{'frmMonitoringubs_daftarEmail'| translate | splitCharT }}">
						</p-column>
					</p-dataTable>
				</div>
			</div>
		</div>
	</div>
</div>